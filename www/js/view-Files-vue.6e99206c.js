(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-Files-vue"],{"0286":function(e,t,n){"use strict";var i=n("1122"),r=n.n(i);r.a},"0444":function(e,t,n){},"054f":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("grid-content",[n("div",{attrs:{slot:"menu"},slot:"menu"},[n("file-upload",{staticClass:"upload",attrs:{"open-key":e.openKey,"open-label":e.openLabel}}),n("ul",{staticClass:"link-list"},[n("li",{staticClass:"link",class:{active:"myFiles"===e.activeTab},on:{click:function(t){return e.setMenuActive("myFiles")}}},[n("font-awesome-icon",{attrs:{icon:"user-circle"}}),e._v("\n                MY FILES\n            ")],1),n("li",{staticClass:"keys"},[n("span",{staticClass:"title"},[n("font-awesome-icon",{attrs:{icon:"key"}}),e._v("\n                    KEYS\n                ")],1),n("key-list",{attrs:{config:{isShare:!1,edit:!0},"active-tab":e.activeTab,"open-key":e.openKey},on:{open:e.openKeyModal,setKey:e.setOpenKey}})],1),n("li",{staticClass:"link",class:{active:"myShares"===e.activeTab},on:{click:function(t){return e.setMenuActive("myShares")}}},[n("font-awesome-icon",{attrs:{icon:"share-alt"}}),e._v("\n                SHARED WITH ME\n            ")],1),n("li",{staticClass:"keys"},[n("span",{staticClass:"title"},[n("font-awesome-icon",{attrs:{icon:"key"}}),e._v("\n                    KEYS\n                ")],1),n("key-list",{attrs:{config:{isShare:!0,edit:!0},"active-tab":e.activeTab,"open-key":e.openKey},on:{open:e.openKeyModal,setKey:e.setOpenKey}})],1)])],1),n("div",{attrs:{slot:"main"},slot:"main"},[n("file-list",{attrs:{"set-key":e.openKey,"active-tab":e.activeTab},on:{open:e.openFileModal}})],1)])},r=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"user-keys"},e._l(e.shareList,(function(t,i){return n("li",{key:i,staticClass:"key-item",class:{active:e.activeKey===t.key_id}},[e.config.edit?n("span",{staticClass:"edit",on:{click:function(n){return e.open(t)}}},[n("font-awesome-icon",{attrs:{icon:"edit"}})],1):e._e(),n("span",{staticClass:"key-name",on:{click:function(n){return e.setKey(t)}}},[e._v(e._s(t.label))])])})),0)},s=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),c=(n("96cf"),n("3b8d")),l=(n("c5f6"),n("2f62")),u=n("7424");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={data:function(){return{shareList:void 0,activeKey:void 0}},props:{activeTab:{type:String},openKey:{type:String},config:{type:Object},update:{type:Number}},components:{},methods:{open:function(e){this.$emit("open",e)},setKey:function(e){this.$emit("setKey",{key:e.key_id,isShare:this.config.isShare,label:e.label})},makeConfig:function(){var e=this.config.isShare;return e?"granted=1&mine=0&all_customers=1":"granted=0&mine=1"},getKeys:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].getShareList(this.makeConfig());case 2:t=e.sent,n=t.result,this.shareList=n;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},computed:p({},Object(l["c"])(["connectionStatus"])),created:function(){this.getKeys()},watch:{activeTab:function(e){"myShares"===e&&(this.activeKey=void 0)},openKey:function(e){this.activeKey=e},update:function(){this.getKeys()},connectionStatus:function(){this.getKeys()}}},h=f,v=(n("d19f"),n("2877")),b=Object(v["a"])(h,a,s,!1,null,"6c999803",null),y=b.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"files-list"},[n("label",{staticClass:"search",attrs:{for:"search"}},[e._v("\n        Search\n    ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{placeholder:"type a file name",id:"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e.Files.filesErrorLoading?n("div",{staticClass:"loading-wrapper"},[n("icon",{staticClass:"rotating",attrs:{name:"loading",size:"lg"}}),e._v("\n        Loading files\n    ")],1):e._e(),0!==e.filteredList.length||e.Files.filesErrorLoading||0!==e.search.length?e._e():n("div",{staticClass:"no-files"},[e._v("\n        You don't have any file uploaded yet, try to upload your first ;)\n    ")]),0!==e.search.length&&0===e.filteredList.length?n("div",{staticClass:"no-files"},[e._v("\n        No files founded\n    ")]):e._e(),n("ul",e._l(e.filteredList,(function(t,i){return n("li",{key:i},[n("file-extension",{attrs:{file:t.path}}),n("span",{staticClass:"file-name",on:{click:function(n){return e.open(t.path)}}},[e._v(e._s(t.name))]),n("file-detail",{attrs:{file:t}})],1)})),0)])},m=[],O=(n("386d"),n("6762"),n("2fdb"),n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-detail"},[n("span",{staticClass:"icon-menu"},[n("font-awesome-icon",{attrs:{icon:"bars"}})],1),n("div",{staticClass:"file-detail-content"},[n("ul",{staticClass:"file-detail-list"},[n("li",{on:{click:function(t){return e.downloadFile()}}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"cloud-download-alt"}}),e._v("\n                Download\n            ")],1),n("li",{staticClass:"delete",on:{click:function(t){return e.deleteFile(e.file)}}},[n("font-awesome-icon",{attrs:{icon:"trash-alt"}}),e._v("\n                Delete\n            ")],1)])])])}),w=[];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={name:"fileDetail",data:function(){return{downloadSuccess:!1,downloadError:!1,downloadIsLoading:!1}},props:{file:{type:Object}},methods:_({},Object(l["b"])(["deleteFile"]),{downloadFile:function(){var e=this;this.downloadIsLoading=!0,this.downloadSuccess=!1,this.downloadError=!1,u["a"].downloadFile(this.file.remote_path).then((function(t){t.ok?e.downloadSuccess=!0:e.downloadError=!0,e.downloadIsLoading=!1}))},resetOpenFile:function(){this.downloadSuccess=!1,this.downloadSuccess=!1,this.downloadError=!1}})},S=k,j=(n("093f"),Object(v["a"])(S,O,w,!1,null,"33851f06",null)),C=j.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("i",{staticClass:"file-extension",style:{background:"url("+e.getExtension()+")"}})},K=[],E=(n("4917"),["aac"," ai","aiff","avi","c","cpp","css","csv","dat","dmg","doc","exe","flv","gif","h","hpp","html","ics","java","jpg","js","key","mid","mp3","mp4","mpg","pdf","php","png","ppt","psd"," py","q","t","rar","rb","rtf","sql","tiff","txt","wav","xls","xml","yml","zip"]),L={name:"fileExtension",data:function(){return{}},props:["file"],methods:{getExtension:function(){if(this.file)return this.makeUrl(this.file.toLowerCase().match(/[^.]+$/)[0])},makeUrl:function(e){return-1===E.indexOf(e)?"extensions/icon-file-gray.svg":"extensions/"+e+".png"}}},P=L,I=(n("8287"),Object(v["a"])(P,x,K,!1,null,"753c90b6",null)),A=I.exports,D=n("d331");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M={data:function(){return{search:"",isFilesLoading:!0,openKey:void 0}},props:{setKey:{type:String},activeTab:{type:String}},components:{FileDetail:C,FileExtension:A,Icon:D["a"]},methods:T({},Object(l["b"])(["deleteFile","getApiFiles","getApiFilesForKey","getApiSharedFiles"]),{setFileLoading:function(e){this.isFilesLoading=e},open:function(e){this.$emit("open",e)},getFilesFromApi:function(e){e?this.getApiFilesForKey({key:e}):this.getAllFiles()},getAllFiles:function(){"myShares"===this.activeTab?this.getApiSharedFiles():this.getApiFiles()}}),computed:T({},Object(l["c"])(["getFiles","connectionStatus"]),{},Object(l["d"])(["Files"]),{filteredList:function(){var e=this;if(this.getFiles)return this.setFileLoading(!1),this.getFiles.filter((function(t){if("."!==t.name.charAt(0))return t.name.toLowerCase().includes(e.search.toLowerCase())}))}}),created:function(){this.getAllFiles()},watch:{activeTab:function(){this.getFilesFromApi()},setKey:function(e){this.openKey=e,this.getFilesFromApi(e)},connectionStatus:function(e){"OK"===e.status&&this.getFilesFromApi(this.openKey)}}},R=M,$=(n("7b36"),Object(v["a"])(R,g,m,!1,null,"f6c9767e",null)),U=$.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropbox",on:{click:function(t){return e.openCreateFileModal()}}},[n("font-awesome-icon",{attrs:{icon:"cloud-upload-alt"}}),e._v("\n    UPLOAD\n")],1)},G=[],q=n("64b4"),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-upload-open"},[n("div",[n("font-awesome-icon",{attrs:{icon:"cloud-upload-alt"}}),e._v("\n        Upload your file\n    ")],1),e.isUploaded?n("div",{staticClass:"uploaded"},[n("h2",[e._v("Your upload was requested")]),e.isUploading?n("div",[e._v("\n            Loading...\n        ")]):e._e()]):e._e(),e.isUploaded?e._e():n("div",{staticClass:"upload"},[n("div",{staticClass:"select-key"},[n("h4",{staticClass:"title"},[e._v("Select a key")]),n("key-list",{staticClass:"key-list",attrs:{"open-key":e.openKey,config:{edit:!1},update:e.timestamp},on:{setKey:e.setOpenKey}})],1),n("div",{staticClass:"create-key"},[n("h4",{staticClass:"title"},[e._v("Create a new key:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyLabelInput,expression:"keyLabelInput"}],attrs:{placeholder:"key label"},domProps:{value:e.keyLabelInput},on:{input:function(t){t.target.composing||(e.keyLabelInput=t.target.value)}}}),n("button",{staticClass:"add",attrs:{disabled:!e.keyLabelInput||e.keyLabelInput.length<3},on:{click:e.creatKey}},[n("font-awesome-icon",{attrs:{icon:"plus-circle"}})],1)]),n("div",{staticClass:"dropbox",class:{disabled:!e.openKey}},[e._v("\n            Select a file and upload to "),n("span",[e._v(e._s(e.keyLabel))]),n("input",{staticClass:"input-file",attrs:{type:"file",disabled:!e.openKey,name:e.uploadFieldName},on:{change:function(t){return e.createFile(t.target)}}})])])])},z=[],H=(n("a481"),{createKey:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=9;break}return e.next=3,u["a"].createFileShareKey();case 3:if(n=e.sent,"OK"===n.status){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",n.result[0].key_id);case 9:return e.next=11,u["a"].createFileShareKey(t);case 11:return i=e.sent,r=i.result,console.log("Key was created",r[0]),e.abrupt("return",r[0]);case 15:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),createPathAndUpload:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n,i,r){var a,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.getter,a=t.dispatch,e.prev=1,e.next=4,u["a"].createPath(i,r);case 4:if(s=e.sent,"OK"===s.status){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,u["a"].createFile(r+":"+i,n);case 9:o=e.sent,c=o.status,"OK"===c&&console.log("file: ",i,"Created"),setTimeout((function(){a("getApiFilesForKey",r)}),200),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](1),console.log("Error trying to create path",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));function t(t,n,i,r){return e.apply(this,arguments)}return t}(),createFile:function(e,t,n){var i=this,r=e.commit,a=e.dispatch,s=e.getters;if(!t)return!1;var o=t.files[0].path.replace(/\\/g,"/"),c=o.match(/\/([^/]*)$/)[1];if(0===s.hasFilePath(c).length)return n?this.createPathAndUpload({commit:r,dispatch:a,getters:s},o,c,n):u["a"].createFileShareKey().then((function(e){if(!e.result&&"OK"!==e.status)return!1;var t=e.result[0].key_id;i.createPathAndUpload({commit:r,dispatch:a,getters:s},o,c,t)}));var l=s.hasFilePath(c)[0],d=l.key_id+":"+l.path;u["a"].createFile(d,o).then((function(e){"OK"===e.status&&console.log("file: ",c,"Created")})).catch((function(e){console.log("error: ",e)})),setTimeout((function(){a("getApiFiles")}),500)}}),J=H,X={data:function(){return{uploadFieldName:"",openKey:void 0,keyLabelInput:void 0,timestamp:void 0,keyLabel:void 0,isUploading:!1,isUploaded:!1}},components:{keyList:y},props:{data:{type:Object}},mounted:function(){this.openKey=this.data.openKey,this.keyLabel=this.data.openLabel},methods:{setOpenKey:function(e){this.openKey=e.key,this.keyLabel=e.label},createFile:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isUploading=!0,e.next=3,J.createFile(this.$store,t,this.openKey);case 3:this.isUploading=!1,this.isUploaded=!0;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),creatKey:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,J.createKey(this.keyLabelInput);case 2:t=e.sent,this.timestamp=Date.now(),this.openKey=t.key_id,this.keyLabel=this.keyLabelInput,this.keyLabelInput=void 0;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},B=X,W=(n("b534"),Object(v["a"])(B,V,z,!1,null,"4b7b729e",null)),Q=W.exports;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={data:function(){return{uploadFieldName:""}},props:{openKey:{type:String},openLabel:{type:String}},methods:ee({},Object(l["b"])(["createFile"]),{openCreateFileModal:function(){q["a"].openModal({component:Q,type:"center",transitionFrom:"top",props:{openKey:this.openKey,openLabel:this.openLabel}})}})},ne=te,ie=(n("fd94"),Object(v["a"])(ne,Y,G,!1,null,"7e780224",null)),re=ie.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-open"},[n("div",{staticClass:"file-open-container",on:{click:function(t){return e.stopPropagation(t)}}},[n("div",{staticClass:"flex"},[n("file-extension",{attrs:{file:e.currentFile.path}}),n("h1",[e._v(e._s(e.currentFile.name))])],1),n("div",{staticClass:"buttons",class:{disabled:e.isFileLocked(e.currentFile.key_id)}},[n("button",{staticClass:"button slim",on:{click:function(t){return e.openShareFile(e.currentFile.path)}}},[e._v("\n                Share\n            ")]),n("button",{staticClass:"button primary",on:{click:e.downloadFile}},[e._v("\n                Download\n            ")]),n("button",{staticClass:"button slim",on:{click:function(t){return e.deleteFile(e.currentFile)}}},[e._v("\n                Delete\n            ")]),e.isSharingOpen?n("div",{staticClass:"share-wrapper"},[n("p",{staticClass:"share-text"},[e._v("Please select a friend to share this file:")]),n("ul",{staticClass:"friends-list"},e._l(e.getFriends,(function(t,i){return n("li",{key:i,class:{active:e.selectedFriend.global_id===t.global_id},on:{click:function(n){return e.selectFriendToShare(t)}}},[n("user-first-letter",{attrs:{name:t.username}}),e._v("\n                        "+e._s(t.username)+"\n\n                    ")],1)})),0),n("div",{staticClass:"share-buttons"},[n("button",{staticClass:"button slim",on:{click:function(t){e.isSharingOpen=!1,e.selectedFriend=""}}},[e._v("Cancel\n                    ")]),n("button",{staticClass:"button slim button-share",attrs:{disabled:!e.selectedFriend},on:{click:function(t){return e.shareFile()}}},[e._v("Share\n                    ")])])]):e._e(),e.isSharing?n("p",{staticClass:"is-sharing"},[e._v("\n                Sharing file with: "+e._s(e.selectedFriend.username)+"\n            ")]):e._e(),e.downloadIsLoading?n("div",[e._v("\n                Requesting file.\n            ")]):e._e(),e.downloadSuccess?n("div",[e._v("\n                Download started.\n            ")]):e._e(),e.downloadError?n("div",[e._v("\n                Download "+e._s(e.currentFile.path)+" error:\n                "),n("span",{staticClass:"share-text"},[e._v(e._s(e.errorMessage))])]):e._e()]),n("hr"),e._l(e.currentFile.versions,(function(t,i){return n("div",{key:i,staticClass:"file-info"},[e._v("\n            ("+e._s(i+1)+")\n            Available: "+e._s(t.reliable)+"\n            Uploaded: "+e._s(t.delivered)+"\n        ")])}))],2)])},se=[],oe=n("7916");function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(n,!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue={data:function(){return{downloadSuccess:!1,downloadError:!1,downloadIsLoading:!1,isSharingOpen:!1,selectedFriend:"",isSharing:!1,errorMessage:void 0}},props:{data:{type:Object}},components:{FileExtension:A,userFirstLetter:oe["a"]},methods:le({},Object(l["b"])(["deleteFile","getApiFriends","updateCurrentFileData","updateCurrentFile"]),{stopPropagation:function(e){e.preventDefault()},downloadFile:function(){var e=this;this.downloadIsLoading=!0,this.downloadSuccess=!1,this.downloadError=!1,u["a"].downloadFile(this.currentFile.remote_path).then((function(t){"OK"===t.status?e.downloadSuccess=!0:(e.errorMessage=t.errors[0],e.downloadError=!0),e.downloadIsLoading=!1}))},resetOpenFile:function(){this.downloadSuccess=!1,this.downloadSuccess=!1,this.downloadError=!1,this.isSharingOpen=!1,this.selectedFriend="",this.isSharing=!1},openShareFile:function(){this.isSharingOpen=!0,this.getApiFriends()},selectFriendToShare:function(e){this.selectedFriend=e},shareFile:function(){var e=this;this.isSharing=!0,u["a"].shareFile(this.currentFile,this.selectedFriend).then((function(t){e.resetOpenFile()}))},updateFileInfo:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].getFileInfo(this.currentFile);case 3:t=e.sent,n=t.result,this.updateCurrentFileData(n[0].versions),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()}),computed:le({},Object(l["c"])(["currentFile","getFriends","connectionStatus","isFileLocked"])),watch:{connectionStatus:function(){this.updateFileInfo()}},mounted:function(){this.resetOpenFile(),this.updateCurrentFile(this.data.fileName),this.updateFileInfo()}},de=ue,pe=(n("3a7c"),Object(v["a"])(de,ae,se,!1,null,"07ef3f6b",null)),fe=pe.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-open"},[n("div",{on:{click:function(t){return e.stopPropagation(t)}}},[n("div",{staticClass:"flex"},[n("h1",[n("font-awesome-icon",{attrs:{icon:"key"}}),e._v("\n                "+e._s(e.data.label)+"\n            ")],1)]),n("div",{staticClass:"edit-key"},[e.isEditing?e._e():n("div",[n("button",{staticClass:"button primary is-small",on:{click:e.edit}},[e._v("\n                    Edit key name\n                ")])]),n("button",{staticClass:"button warn is-small",on:{click:e.deleteKey}},[e._v("\n                delete key\n                "),e.error?n("span",[e._v(e._s(e.error))]):e._e()]),e.isEditing?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.data.label,expression:"data.label"}],staticClass:"input",domProps:{value:e.data.label},on:{input:function(t){t.target.composing||e.$set(e.data,"label",t.target.value)}}}),n("button",{staticClass:"button slim is-small",on:{click:e.cancel}},[e._v("cancel\n                ")]),n("button",{staticClass:"button primary is-small",on:{click:e.save}},[e._v("save\n                ")])]):e._e()])])])},ve=[],be={data:function(){return{isEditing:!1,alias:void 0,error:void 0}},props:{data:{type:Object}},components:{},methods:{stopPropagation:function(e){e.preventDefault()},edit:function(){this.isEditing=!0},save:function(){u["a"].editKeyLabel(this.data.key_id,this.data.label),this.isEditing=!1},cancel:function(){this.isEditing=!1},deleteKey:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.removeFileShareKey(this.data.key_id);case 2:t=e.sent,n=t.status,"OK"===n?this.$emit("closeModal"):this.error=n;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},ye=be,ge=(n("0286"),Object(v["a"])(ye,he,ve,!1,null,"c1f8bdae",null)),me=ge.exports,Oe=n("83f9"),we={name:"Files",data:function(){return{activeTab:"myFiles",openKey:void 0,openLabel:void 0}},components:{fileList:U,fileUpload:re,GridContent:Oe["a"],keyList:y},created:function(){document.getElementsByTagName("html")[0].classList.remove("intro-background")},methods:{setMenuActive:function(e){this.activeTab=e,this.openKey=void 0,this.openLabel=void 0},openFileModal:function(e){q["a"].openModal({component:fe,type:"center",transitionFrom:"top",props:{fileName:e}})},openKeyModal:function(e){q["a"].openModal({component:me,type:"center",transitionFrom:"top",props:e})},setOpenKey:function(e){this.openKey=e.key,this.openLabel=e.label,this.activeTab=e.isShare?"myShares":"myFiles"}}},Fe=we,_e=(n("7bca"),Object(v["a"])(Fe,i,r,!1,null,"850eac06",null));t["default"]=_e.exports},"05d7":function(e,t,n){},"093f":function(e,t,n){"use strict";var i=n("5f8e"),r=n.n(i);r.a},1122:function(e,t,n){},"2fdb":function(e,t,n){"use strict";var i=n("5ca1"),r=n("d2c8"),a="includes";i(i.P+i.F*n("5147")(a),"String",{includes:function(e){return!!~r(this,e,a).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"386d":function(e,t,n){"use strict";var i=n("cb7c"),r=n("83a1"),a=n("5f1b");n("214f")("search",1,(function(e,t,n,s){return[function(n){var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=s(n,e,this);if(t.done)return t.value;var o=i(e),c=String(this),l=o.lastIndex;r(l,0)||(o.lastIndex=0);var u=a(o,c);return r(o.lastIndex,l)||(o.lastIndex=l),null===u?-1:u.index}]}))},"3a7c":function(e,t,n){"use strict";var i=n("0444"),r=n.n(i);r.a},4917:function(e,t,n){"use strict";var i=n("cb7c"),r=n("9def"),a=n("0390"),s=n("5f1b");n("214f")("match",1,(function(e,t,n,o){return[function(n){var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=o(n,e,this);if(t.done)return t.value;var c=i(e),l=String(this);if(!c.global)return s(c,l);var u=c.unicode;c.lastIndex=0;var d,p=[],f=0;while(null!==(d=s(c,l))){var h=String(d[0]);p[f]=h,""===h&&(c.lastIndex=a(l,r(c.lastIndex),u)),f++}return 0===f?null:p}]}))},5147:function(e,t,n){var i=n("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(r){}}return!0}},"53ba":function(e,t,n){},"5dbc":function(e,t,n){var i=n("d3f4"),r=n("8b97").set;e.exports=function(e,t,n){var a,s=t.constructor;return s!==n&&"function"==typeof s&&(a=s.prototype)!==n.prototype&&i(a)&&r&&r(e,a),e}},"5f8e":function(e,t,n){},6762:function(e,t,n){"use strict";var i=n("5ca1"),r=n("c366")(!0);i(i.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},7970:function(e,t,n){},"7b36":function(e,t,n){"use strict";var i=n("fa1c"),r=n.n(i);r.a},"7bca":function(e,t,n){"use strict";var i=n("53ba"),r=n.n(i);r.a},8287:function(e,t,n){"use strict";var i=n("833f"),r=n.n(i);r.a},"833f":function(e,t,n){},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"83f9":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"menu"},[e._t("menu")],2),n("div",{ref:"main",staticClass:"main",attrs:{id:"main"}},[e._t("main")],2)])},r=[],a={name:"GridContent"},s=a,o=(n("b345"),n("2877")),c=Object(o["a"])(s,i,r,!1,null,"b632edf8",null);t["a"]=c.exports},"8b97":function(e,t,n){var i=n("d3f4"),r=n("cb7c"),a=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:a}},aa77:function(e,t,n){var i=n("5ca1"),r=n("be13"),a=n("79e5"),s=n("fdef"),o="["+s+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(e,t,n){var r={},o=a((function(){return!!s[e]()||c[e]()!=c})),l=r[e]=o?t(p):s[e];n&&(r[n]=l),i(i.P+i.F*o,"String",r)},p=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},aae3:function(e,t,n){var i=n("d3f4"),r=n("2d95"),a=n("2b4c")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},b345:function(e,t,n){"use strict";var i=n("c720"),r=n.n(i);r.a},b534:function(e,t,n){"use strict";var i=n("7970"),r=n.n(i);r.a},bf52:function(e,t,n){},c5f6:function(e,t,n){"use strict";var i=n("7726"),r=n("69a8"),a=n("2d95"),s=n("5dbc"),o=n("6a99"),c=n("79e5"),l=n("9093").f,u=n("11e9").f,d=n("86cc").f,p=n("aa77").trim,f="Number",h=i[f],v=h,b=h.prototype,y=a(n("2aeb")(b))==f,g="trim"in String.prototype,m=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=g?t.trim():p(t,3);var n,i,r,a=t.charCodeAt(0);if(43===a||45===a){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+t}for(var s,c=t.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>r)return NaN;return parseInt(c,i)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(y?c((function(){b.valueOf.call(n)})):a(n)!=f)?s(new v(m(t)),n,h):m(t)};for(var O,w=n("9e1e")?l(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),F=0;w.length>F;F++)r(v,O=w[F])&&!r(h,O)&&d(h,O,u(v,O));h.prototype=b,b.constructor=h,n("2aba")(i,f,h)}},c720:function(e,t,n){},d19f:function(e,t,n){"use strict";var i=n("05d7"),r=n.n(i);r.a},d2c8:function(e,t,n){var i=n("aae3"),r=n("be13");e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},fa1c:function(e,t,n){},fd94:function(e,t,n){"use strict";var i=n("bf52"),r=n.n(i);r.a},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=view-Files-vue.6e99206c.js.map